<!DOCTYPE html>
<html lang="ru_RU">
<head>
<link rel="shortcut icon" type="image/x-icon" href="images/ttt.ico">
<title>Tic Tac toe by Maxim777</title>
<style>
.field1 {
background: url("images/78884DBD-B0BB-42B3-8FB1-CFBC4F18A4A3.png");
width: 573px;
height: 573px;
display: flex;
flex-direction: row;
flex-wrap: wrap;
border-radius: 0;
background-size: cover;
padding: 70px;
padding-left: 90px;
padding-right: 50px;
}
.field2 {
background: url("images/5AEF7ED3-3A15-42D1-8B08-7F1A4C15FEEB.png");
width: 573px;
height: 573px;
display: flex;
flex-direction: row;
flex-wrap: wrap;
border-radius: 0;
background-size: cover;
padding: 70px;
padding-left: 90px;
padding-right: 50px;
z-index: 1;
}
.cell {
width: 151px;
height: 151px;
background: transparent;
margin: 10px;
padding: 0;
background-size: contain;
background-repeat: no-repeat;
}
#btn {
display: inline-block;
color: white;
font-size: 2em;
text-decoration: none;
padding: 0.25em 1em;
outline: none;
border-width: 4px 0;
border-style: solid none;
border-color: #fbde33 #000 #d77206;
border-radius: 12px;
background: linear-gradient(#f3ae0f, #e38916) #e38916;
transition: 0.2s;
}
#btn:hover {
background: linear-gradient(#f5ae00, #f59500) #f5ae00;
}
#btn:active  {
background: linear-gradient(#f59500, #f5ae00) #f59500);
}
.result {
font-variant: small-caps;
color: #fff900;
font-family: Arial;
text-shadow: 0 0 3px black;
font-size: 3em;
margin-bottom: 50px;
}
body {
background-image: url("images/plank_bg.jpg");
background-size: cover;
}
.restart {
position: fixed;
top: 0;
right: 0;
width: 50px;
height: 50px;
}
.scr {
font-family: Arial;
font-size: 20px;
border: 1px solid black;
background: white;
}
.scoreimg {
width: 20px;
height: 20px;
}
</style>
<script>
function start() {
if(g == false) {
if(lastC == 0) {
c = 1;
lastC = 1;
} else {
c = 0;
lastC = 0;
}
a = true;
g = true;
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
for(let i=0; i<9; i++) {
cells[i].style.background = "transparent";
cells[i].removeAttribute("char");
}
}
}
var xAudio = document.createElement("audio");
xAudio.setAttribute("src", "https://mail-attachment.googleusercontent.com/attachment/u/0/s/?view=att&th=16b61298e418eb8d&attid=0.1&disp=attd&realattid=76ad29b43609df26_0.1&safe=1&zw&saddbat=ANGjdJ_7sfk-tMRAvVxYLv6QTPCoaPfbEocSfpoEu-JLggjD0KEMirwgK5FZMqSO1DT0Em3rS7ZAZC6ZKu7a_ZxGmqSGFE2BZDBUz4wyodOS7ug-PxKS-_ocYQOHf40eP4KCBJ_-XJeuIkLLD5_SdZfkgJ-jHlEibjAn4kOlSbhCRoiI4livoin6q0zNeRtzAs9mfqSVNi-uc4TZiTwDFY5q5O9VBwNtyw-KeqUwvfZ7rpSbCN071y-AjauPMx0E2R8AfYnpp1IbkJphwobN_-fiHl_duHTgOs1QqTankEyjWfDfGmW4vaiKCgX1gIIwPaIk89fSs15-B1b-WGth-kRkpGwMBMWpUAeF_zK5G71W4dvTAqdKDwAK7-zYni_3UxfnHcTXqy4iw6W1nMaLVWJ00OV8mWINwgxn07l56jBSJydumPZbRZGXW-6MvCJkOb1dDuaJ0v0u5T6kE5z_dCSbhm-wtDu2ClGrdvYjzxYJr4e8ZCLmH-gbvZRROF2heEeRJjHi1N9zEKYmkyJB6kzogJ3srupJwVnozr152D0Zyqxnee_0DmnGdR8Z-TQTePdFV9mUm-6PRYd6frHiTyGANfhLeMEvzFU28-cs9vrI5xm5nm1AfGrEk1ZEf6joIvXgYjmmjOE9Np3HdlrOG3sNzH4NTw3xpmeYOXc3lQ");
var zAudio = document.createElement("audio");
zAudio.setAttribute("src", "https://mail-attachment.googleusercontent.com/attachment/u/0/s/?view=att&th=16b612d74239b309&attid=0.1&disp=attd&realattid=4267c990b8a28061_0.1&safe=1&zw&saddbat=ANGjdJ_99wFpvGq2Y2G7oWVZu5A2ofTXNsVVEvLGCgOgCh801OORi8lya4-53Hm0hUvVxza2JoEhKK4tOFzofzOI9iKbLsLWUd1Piy-Uspl0nMX6EMp1-X6BcrmQkKmyCwTAOX7buYzkkqiVXvlolohSIdLYo5ILXmYprOX_uK1eQCNhKtv7Mh4sRKoak2jRsksrt3vRAMKcR8UUAQUp134Nmh55kIP34NVVXLvMN-1WgogkDrFxMP55bnhXNbTkb7VcgiL2Je2gBPl5X4nQ8XeW96Dn2pC7qD-jD7l5U9k9jlUqH-sACw_DLcUIP0NIFh735-lAFbfK6C2_GxNny1RR9LfR61l4yHgV4Qu73-4uh3iwNSZn8sKWW_SFOKMbI3uSjVeo8qiz30ktk_N98w7p2tZ7h1Ru_dp4dveHqGtGryRV-CqLRIQyEEsLph764usDVne-wYVCUTyFQGUS5mkAf8NKC4-51lVFJ3_JidIhxT6iJTsUtget1vMFGKfOy4Lj_WhMMSC4CIe21tG8VzlsvHfun3z64KpA0SD2Umh6dWSf27DP5opB-pO_5Ce0dnNIyTwTqTMEiMm5r9JvryU-MfTCKhilOSzgd3GuXiLgs6cNT10oCZacCh64EylP04HJczh_vCodRKXCDeIs5d1iRtP4lyl_yzmoB7a24Q");
window.addEventListener('keydown', function(e) {
if(e.keyCode == 103) {
start();
mobilePress("#cell1");
}
if(e.keyCode == 104) {
start();
mobilePress("#cell2");
}
if(e.keyCode == 105) {
start();
mobilePress("#cell3");
}
if(e.keyCode == 100) {
start();
mobilePress("#cell4");
}
if(e.keyCode == 101) {
start();
mobilePress("#cell5");
}
if(e.keyCode == 102) {
start();
mobilePress("#cell6");
}
if(e.keyCode == 97) {
start();
mobilePress("#cell7");
}
if(e.keyCode == 98) {
start();
mobilePress("#cell8");
}
if(e.keyCode == 99) {
start();
mobilePress("#cell9");
}
})
function chooseAI(lvl) {
AI = `AI(${lvl})`;
document.querySelector(".pchoose.pl2.sp").innerHTML = AI;
}
function changeNames(p) {
p1 = document.querySelector(`.pchoose.pl1.${p}`).value;
p2 = document.querySelector(".pchoose.pl2.mp").value;
if(p1=="" || p1==" ") p1 = "Player 1";
if(p2=="" || p2==" ") p2 = "Player 2";
document.querySelector(".score.x").innerHTML = `${p1}: 0`;
document.querySelector(".score.z").innerHTML = `${p=="mp"?p2:AI}: 0`;
}
function swp(n, t) {
document.querySelector(n).style.display='block';
document.querySelector(t).style.display='none';
}
function check() {
if(c == 1) {
document.querySelector(".field").classList.add('field1');
document.querySelector(".field").classList.remove('field2');
document.querySelector(".scr.x").style.background = "white";
document.querySelector(".scr.z").style.background = "rgba(255, 0, 0, .85)";
}
if(c == 0) {
document.querySelector(".field").classList.add('field2');
document.querySelector(".field").classList.remove('field1');
document.querySelector(".scr.z").style.background = "white";
document.querySelector(".scr.x").style.background = "rgba(255, 0, 0, .85)";
}
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
for(let i=0; i<9; i++) {
for(let k=0; k<9; k++) {
for(let j=0; j<9; j++) {
if(cells[i].getAttribute("char") == cells[k].getAttribute("char") && cells[i].getAttribute("char") == cells[j].getAttribute("char")) {
if(cells[i].getAttribute("char") == "x" || cells[i].getAttribute("char") == "0") {
if(i==0&&k==1&&j==2||i==0&&k==3&&j==6||i==0&&k==4&&j==8||i==2&&k==4&&j==6||i==2&&k==5&&j==8||i==6&&k==7&&j==8||i==1&&k==4&&j==7||i==3&&k==4&&j==5) {
if(cells[i].getAttribute("char") == "x") {
cells[i].style.background = 'url("images/X_white.jpeg")';
cells[k].style.background = 'url("images/X_white.jpeg")';
cells[j].style.background = 'url("images/X_white.jpeg")';
cells[i].style.backgroundSize = 'contain';
cells[k].style.backgroundSize = 'contain';
cells[j].style.backgroundSize = 'contain';
if(a==true) document.querySelector(".score.x").innerHTML = `${p1}: ${Number(document.querySelector(".score.x").innerHTML.substring(p1.length+2, document.querySelector(".score.x").innerHTML.length))+1}`;
a = false;
g = false;
} else {
cells[i].style.background = 'url("images/0_white.jpeg")';
cells[k].style.background = 'url("images/0_white.jpeg")';
cells[j].style.background = 'url("images/0_white.jpeg")';
cells[i].style.backgroundSize = 'contain';
cells[k].style.backgroundSize = 'contain';
cells[j].style.backgroundSize = 'contain';
if(a==true) document.querySelector(".score.z").innerHTML = `${p2}: ${Number(document.querySelector(".score.z").innerHTML.substring(p2.length+2, document.querySelector(".score.z").innerHTML.length))+1}`;
a = false;
g = false;
}
}
}
} else {
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
if(cells[0].getAttribute("char") && cells[1].getAttribute("char") && cells[2].getAttribute("char") && cells[3].getAttribute("char") && cells[4].getAttribute("char") && cells[5].getAttribute("char") && cells[6].getAttribute("char") && cells[7].getAttribute("char") && cells[8].getAttribute("char")) {
a = false;
g = false;
}
}
}
}
}
}
function mobilePress(id) {
if(a == true) {
if(document.querySelector(id).getAttribute("char") != "x" && document.querySelector(id).getAttribute("char") != "0") {
if(c == 0) {
c = 1;
document.querySelector(id).setAttribute("char", "x");
document.querySelector(id).style.background =  "url('images/ttt_x.png')";
document.querySelector(id).style.backgroundSize = "cover";
xAudio.play();
}
else {
c = 0;
document.querySelector(id).style.background = "url('images/ttt_z.png')";
document.querySelector(id).setAttribute("char", "0");
document.querySelector(id).style.backgroundSize = "cover";
zAudio.play();
}
}
}
}
let checkInt = setInterval(check, 1000/24);
</script>
</head>
<body>
<center class="choose">
  <a class="choosebtn" onclick="swp('.spchoose', '.choose');">1 player</a>
  <a class="choosebtn" onclick="swp('.mpchoose', '.choose');">2 players</a>
</center>
<center class="spchoose" style="display: none;">
  <input class="pchoose pl1 sp" placeholder="Player 1" /><br />
  <div class="pchoose pl2 sp">AI(Easy)</div><br />
  <button class="diffchoose easy" onclick="chooseAI('Easy');">Easy</button><button class="diffchoose medium" onclick="chooseAI('Medium');">Medium</button><button class="diffchoose hard" onclick="chooseAI('Hard');">Hard</button><br />
  <button class="start sp" onclick="swp('.center', '.spchoose'); changeNames('sp');">Start</button>
</center>
<center class="mpchoose" style="display: none;">
  <input class="pchoose pl1 mp" placeholder="Player 1" /><br />
  <input class="pchoose pl2 mp" placeholder="Player 2" /><br />
  <button class="start mp" onclick="swp('.center', '.mpchoose'); changeNames('mp');">Start</button>
</center>
<center class="center" style="display: none;">
<img src="images/restart.png" class="restart" onclick="start();">
<div class="field field2">
<div class="cell" id="cell1" onclick='start(); mobilePress("#cell1");'></div>
<div class="cell" id="cell2" onclick='start(); mobilePress("#cell2");'></div>
<div class="cell" id="cell3" onclick='start(); mobilePress("#cell3");'></div>
<div class="cell" id="cell4" onclick='start(); mobilePress("#cell4");'></div>
<div class="cell" id="cell5" onclick='start(); mobilePress("#cell5");'></div>
<div class="cell" id="cell6" onclick='start(); mobilePress("#cell6");'></div>
<div class="cell" id="cell7" onclick='start(); mobilePress("#cell7");'></div>
<div class="cell" id="cell8" onclick='start(); mobilePress("#cell8");'></div>
<div class="cell" id="cell9" onclick='start(); mobilePress("#cell9");'></div>
</div>
<div style="display: flex; flex-direction: row; margin-left: 365px;">
<div class="scr x" style="margin-right: 10px; display: flex; flex-direction: row;"><div class="scoreimg" style='background: url("images/ttt_x.png"); background-size: contain;'></div><div class="score x">Player 1: 0</div></div><div class="scr z" style="margin-left: 10px; display: flex; flex-direction: row;"><img class="scoreimg" src="ttt_z.png"><div class="score z">Player 2: 0</div></div>
</div>
</center>
<script>
var c = 0;
var a = false;
var x = 0;
var g = false;
var lastC = 1;
var p1 = "Player 1";
var p2 = "Player 2";
var AI = "AI(Easy)";
var game;
</script>
</body>
</html>
