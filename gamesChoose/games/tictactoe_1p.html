<!DOCTYPE html>
<html>
<head>
<link href="images/ttt.ico" type = "image/x-icon" rel="shortcut icon">
<title>Tic Tac Toe by Maxim777</title>
<style>
.field1 {
background: url("images/78884DBD-B0BB-42B3-8FB1-CFBC4F18A4A3.png");
width: 573px;
height: 573px;
display: flex;
flex-direction: row;
flex-wrap: wrap;
border-radius: 0;
background-size: cover;
padding: 70px;
padding-left: 90px;
padding-right: 50px;
}
.field2 {
background: url("images/5AEF7ED3-3A15-42D1-8B08-7F1A4C15FEEB.png");
width: 573px;
height: 573px;
display: flex;
flex-direction: row;
flex-wrap: wrap;
border-radius: 0;
background-size: cover;
padding: 70px;
padding-left: 90px;
padding-right: 50px;
z-index: 1;
}
.cell {
width: 151px;
height: 151px;
background: transparent;
margin: 10px;
padding: 0;
background-size: contain;
background-repeat: no-repeat;
}
body {
background-image: url("images/plank_bg.jpg");
background-size: cover;
display: flex;
justify-content: center;
}
.restart {
position: fixed;
top: 0;
right: 0;
width: 50px;
height: 50px;
}
.scr {
font-famly: Arial;
font-size: 20px;
border: 1px solid black;
background: white;
}
.scoreimg {
width: 20px;
height: 20px;
background-repeat-x: no-repeat;
background-repeat-y: no-repeat;
}
.choosebtn {
font-size: 50px;
font-family: Bradley Hand, cursive;
color: #fefefe;
}
.choose {
background: url("images/5AEF7ED3-3A15-42D1-8B08-7F1A4C15FEEB.png");
width: 573px;
height: 573px;
border-radius: 0;
background-size: cover;
display: flex;
flex-direction: row;
flex-wrap: wrap;
z-index: 1;
}
.back {
width: 50px;
height: 50px;
position: fixed;
top: 0;
left: 0;
}
.pchoose {
border: 5px solid #ededed;
border-top: none;
border-left: none;
border-right: none;
width: 255px;
height: 60px;
padding-bottom: 10px;
font-family: Bradley Hand, cursive;
background: rgba(255, 255, 255, .3);
font-size: 45px;
margin-bottom: 10px;
}
.pchoose.pl1 {
color: #fe5572;
}
.pchoose.pl2 {
color: #67d6f0;
}
.diffchoose {
border: 3px solid #dddddd;
border-top: none;
border-left: none;
border-right: none;
width: 128px;
height: 45px;
background: transparent;
font-family: Bradley Hand, cursive;
color: #fefefe;
margin-left: 5px;
margin-right: 5px;
font-size: 30px;
}
.start {
width: 130px;
height: 50px;
border: 5px solid #ededed;
border-top: none;
border-left: none;
border-right: none;
font-family: Bradley Hand, cursive;
font-size: 40px;
color: #fefefe;
background: rgba(255, 255, 255, .1);
margin-top: 10px;
padding-left: 0;
text-align: left;
}
.spchoose, .mpchoose {
background: url("images/78884DBD-B0BB-42B3-8FB1-CFBC4F18A4A3.png");
width: 573px;
height: 573px;
border-radius: 0;
background-size: cover;
display: flex;
flex-direction: row;
flex-wrap: wrap;
z-index: 1;
}
</style>
<script>
function start() {
if(game != "singleplayer") {
document.querySelector(".restart").style.display = "none";
if(g == false) {
if(lastC == 0) {
c = 1;
lastC = 1;
} else {
c = 0;
lastC = 0;
}
a = true;
g = true;
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
for(let i=0; i<9; i++) {
cells[i].style.background = "transparent";
cells[i].removeAttribute("char");
}
}
}
}
xAudio = document.createElement("audio");
xAudio.setAttribute("src", "https://mail-attachment.googleusercontent.com/attachment/u/0/s/?view=att&th=16b61298e418eb8d&attid=0.1&disp=attd&realattid=76ad29b43609df26_0.1&safe=1&zw&saddbat=ANGjdJ_7sfk-tMRAvVxYLv6QTPCoaPfbEocSfpoEu-JLggjD0KEMirwgK5FZMqSO1DT0Em3rS7ZAZC6ZKu7a_ZxGmqSGFE2BZDBUz4wyodOS7ug-PxKS-_ocYQOHf40eP4KCBJ_-XJeuIkLLD5_SdZfkgJ-jHlEibjAn4kOlSbhCRoiI4livoin6q0zNeRtzAs9mfqSVNi-uc4TZiTwDFY5q5O9VBwNtyw-KeqUwvfZ7rpSbCN071y-AjauPMx0E2R8AfYnpp1IbkJphwobN_-fiHl_duHTgOs1QqTankEyjWfDfGmW4vaiKCgX1gIIwPaIk89fSs15-B1b-WGth-kRkpGwMBMWpUAeF_zK5G71W4dvTAqdKDwAK7-zYni_3UxfnHcTXqy4iw6W1nMaLVWJ00OV8mWINwgxn07l56jBSJydumPZbRZGXW-6MvCJkOb1dDuaJ0v0u5T6kE5z_dCSbhm-wtDu2ClGrdvYjzxYJr4e8ZCLmH-gbvZRROF2heEeRJjHi1N9zEKYmkyJB6kzogJ3srupJwVnozr152D0Zyqxnee_0DmnGdR8Z-TQTePdFV9mUm-6PRYd6frHiTyGANfhLeMEvzFU28-cs9vrI5xm5nm1AfGrEk1ZEf6joIvXgYjmmjOE9Np3HdlrOG3sNzH4NTw3xpmeYOXc3lQ");
var zAudio = document.createElement("audio");
zAudio.setAttribute("src", "https://mail-attachment.googleusercontent.com/attachment/u/0/s/?view=att&th=16b612d74239b309&attid=0.1&disp=attd&realattid=4267c990b8a28061_0.1&safe=1&zw&saddbat=ANGjdJ_99wFpvGq2Y2G7oWVZu5A2ofTXNsVVEvLGCgOgCh801OORi8lya4-53Hm0hUvVxza2JoEhKK4tOFzofzOI9iKbLsLWUd1Piy-Uspl0nMX6EMp1-X6BcrmQkKmyCwTAOX7buYzkkqiVXvlolohSIdLYo5ILXmYprOX_uK1eQCNhKtv7Mh4sRKoak2jRsksrt3vRAMKcR8UUAQUp134Nmh55kIP34NVVXLvMN-1WgogkDrFxMP55bnhXNbTkb7VcgiL2Je2gBPl5X4nQ8XeW96Dn2pC7qD-jD7l5U9k9jlUqH-sACw_DLcUIP0NIFh735-lAFbfK6C2_GxNny1RR9LfR61l4yHgV4Qu73-4uh3iwNSZn8sKWW_SFOKMbI3uSjVeo8qiz30ktk_N98w7p2tZ7h1Ru_dp4dveHqGtGryRV-CqLRIQyEEsLph764usDVne-wYVCUTyFQGUS5mkAf8NKC4-51lVFJ3_JidIhxT6iJTsUtget1vMFGKfOy4Lj_WhMMSC4CIe21tG8VzlsvHfun3z64KpA0SD2Umh6dWSf27DP5opB-pO_5Ce0dnNIyTwTqTMEiMm5r9JvryU-MfTCKhilOSzgd3GuXiLgs6cNT10oCZacCh64EylP04HJczh_vCodRKXCDeIs5d1iRtP4lyl_yzmoB7a24Q");
window.addEventListener('keydown', function(e) {
if(e.keyCode == 103) {
start();
mobilePress("#cell1");
}
if(e.keyCode == 104) {
start();
mobilePress("#cell2");
}
if(e.keyCode == 105) {
start();
mobilePress("#cell3");
}
if(e.keyCode == 100) {
start();
mobilePress("#cell4");
}
if(e.keyCode == 101) {
start();
mobilePress("#cell5");
}
if(e.keyCode == 102) {
start();
mobilePress("#cell6");
}
if(e.keyCode == 97) {
start();
mobilePress("#cell7");
}
if(e.keyCode == 98) {
start();
mobilePress("#cell8");
}
if(e.keyCode == 99) {
start();
mobilePress("#cell9");
}
})
function chooseAI(lvl) {
AI = `AI(${lvl})`;
document.querySelector(".pchoose.pl2.sp").innerHTML = AI;
}
function changeNames(p) {
if(p=="mp") var game = "multiplayer";
if(p=="sp") var game = "singleplayer";
document.querySelector(".restart").style.display="none";
p1 = document.querySelector(`.pchoose.pl1.sp`).value;
p2 = document.querySelector(".pchoose.pl2.sp").innerHTML;
if(p1=="" || p1==" ") p1 = "Player 1";
if(p2=="" || p2==" ") p2 = "Player 2";
document.querySelector(".score.x").innerHTML = `${p1}: 0`;
document.querySelector(".score.z").innerHTML = `${AI}: 0`;
}
function swp(n, t) {
var cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
document.querySelector(t).style.display='none';
document.querySelector(n).style.display='block';
if(n != ".choose") {
document.querySelector(".back").style.display = "block";
} else {
document.querySelector(".back").style.display = "none";
}
/* if(n==".center") {
document.querySelector(".restart").style.display="block";
if(g==true && c==0) {
cells.forEach(cell => {
cell.setAttribute("onclick", "mobilePress();");
});
}
} else {
document.querySelector(".restart").style.display="none";
cells.forEach(cell => {
cell.setAttribute("onclick", "start(); mobilePress();");
});
} */
var thisPage = n;
}
function check() {
if(c == 1) {
document.querySelector(".field").classList.add('field1');
document.querySelector(".field").classList.remove('field2');
document.querySelector(".scr.x").style.background = "white";
document.querySelector(".scr.z").style.background = "rgba(255, 0, 0, .85)";
}
if(c == 0) {
document.querySelector(".field").classList.add('field2');
document.querySelector(".field").classList.remove('field1');
document.querySelector(".scr.z").style.background = "white";
document.querySelector(".scr.x").style.background = "rgba(255, 0, 0, .85)";
}
document.querySelector(".scr.x").style.width = `${document.querySelector(".score.x").innerHTML.toString().length * 12 + 25}px`;
document.querySelector(".scr.z").style.width = `${document.querySelector(".score.z").innerHTML.toString().length * 12 + 25}px`;
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
for(let i=0; i<9; i++) {
for(let k=0; k<9; k++) {
for(let j=0; j<9; j++) {
if(cells[i].getAttribute("char") == cells[k].getAttribute("char") && cells[i].getAttribute("char") == cells[j].getAttribute("char")) {
if(cells[i].getAttribute("char") == "x" || cells[i].getAttribute("char") == "0") {
if(i==0&&k==1&&j==2||i==0&&k==3&&j==6||i==0&&k==4&&j==8||i==2&&k==4&&j==6||i==2&&k==5&&j==8||i==6&&k==7&&j==8||i==1&&k==4&&j==7||i==3&&k==4&&j==5) {
if(cells[i].getAttribute("char") == "x") {
cells[i].style.background = 'url("images/X_white.jpeg")';
cells[k].style.background = 'url("images/X_white.jpeg")';
cells[j].style.background = 'url("images/X_white.jpeg")';
cells[i].style.backgroundSize = 'contain';
cells[k].style.backgroundSize = 'contain';
cells[j].style.backgroundSize = 'contain';
if(a==true) document.querySelector(".score.x").innerHTML = `${p1}: ${Number(document.querySelector(".score.x").innerHTML.substring(p1.length+2, document.querySelector(".score.x").innerHTML.length))+1}`;
if(game=="singleplayer") document.querySelector(".restart").style.display = "block";
a = false;
g = false;
} else {
cells[i].style.background = 'url("images/0_white.jpeg")';
cells[k].style.background = 'url("images/0_white.jpeg")';
cells[j].style.background = 'url("images/0_white.jpeg")';
cells[i].style.backgroundSize = 'contain';
cells[k].style.backgroundSize = 'contain';
cells[j].style.backgroundSize = 'contain';
if(a==true) document.querySelector(".score.z").innerHTML = `${p2}: ${Number(document.querySelector(".score.z").innerHTML.substring(p2.length+2, document.querySelector(".score.z").innerHTML.length))+1}`;
if(game=="singleplayer") document.querySelector(".restart").style.display = "block";
a = false;
g = false;
}
}
}
} else {
let cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
if(cells[0].getAttribute("char") && cells[1].getAttribute("char") && cells[2].getAttribute("char") && cells[3].getAttribute("char") && cells[4].getAttribute("char") && cells[5].getAttribute("char") && cells[6].getAttribute("char") && cells[7].getAttribute("char") && cells[8].getAttribute("char")) {
if(game=="singleplayer") document.querySelector(".restart").style.display = "block";
a = false;
g = false;
}
}
}
}
}
}
function mobilePress(id) {
if(a == true) {
if(document.querySelector(id).getAttribute("char") != "x" && document.querySelector(id).getAttribute("char") != "0") {
if(c == 0) {
c = 1;
} else {
c = 0;
}
document.querySelector(id).setAttribute("char", "x");
document.querySelector(id).style.background =  "url('images/ttt_x.png')";
document.querySelector(id).style.backgroundSize = "cover";
xAudio.play();
}
}
}
function AIWork() {
var cells = [document.querySelector("#cell1"), document.querySelector("#cell2"), document.querySelector("#cell3"), document.querySelector("#cell4"), document.querySelector("#cell5"), document.querySelector("#cell6"), document.querySelector("#cell7"), document.querySelector("#cell8"), document.querySelector("#cell9")];
if(c == 1) {
if(AI=="AI(Easy)") {
var r = Math.ceil(Math.random() * 9) - 1;
while(cells[r].getAttribute("char") == "x" || cells[r].getAttribute("char") == "0") {
r = Math.ceil(Math.random() * 9) - 1;
}
let rand = Math.ceil(Math.random() * 7);
let rand2 = Math.round(Math.random() * 1) + 5;
if(rand < rand2) {
cells.forEach(i => {
cells.forEach(k => {
if(i.getAttribute("char") == k.getAttribute("char")) {
if(i==0 && k==2) {
mobilePress(`#${cells[1].id}`);
} else if(i==0 && k==1) {
mobilePress(`#${cells[2].id}`);
} else if(i==0 && k==3) {
mobilePress(`#${cells[6].id}`);
} else if(i==0 && k==6) {
mobilePress(`#${cells[3].id}`);
} else if(i==0 && k==4) {
mobilePress(`#${cells[8].id}`);
} else if(i==0 && k==8) {
mobilePress(`#${cells[4].id}`);
} else if(i==1 && k==2 || i==3 && k==6 || i==4 && k==8) {
mobilePress(`${cells[0].id}`);
} //here
} else {
mobilePress(`#${cells[r].id}`);
}
});
});
} else {
mobilePress(`#${cells[r].id}`);
}
} else if(AI=="AI(Medium)") {

} else {

}
}
}
let checkInt = setInterval(check, 1000/24);
let AIInt = setInterval(AIWork, 1000/12);
</script>
</head>
<body>
<a href="tictactoe.html" class="back"><img src="images/back.png" style="width: 50px; height: 50px;"></a>
<center class="spchoose" style="display: block;">
  <div style="margin-top: 130px;">
  <input class="pchoose pl1 sp" placeholder="Player 1" /><br />
  <div class="pchoose pl2 sp">AI(Easy)</div><br />
  <button class="diffchoose easy" onclick="chooseAI('Easy');">Easy</button><button class="diffchoose medium" onclick="chooseAI('Medium');">Medium</button><button class="diffchoose hard" onclick="chooseAI('Hard');">Hard</button><br />
  <button class="start sp" onclick="swp('.center', '.spchoose'); changeNames('sp');">Start</button>
  </div>
</center>
<center class="center" style="display: none;">
<img src="images/restart.png" class="restart" style="display: none;" onclick="restart();">
<div class="field field2">
<div class="cell" id="cell1" onclick='start(); mobilePress("#cell1");'></div>
<div class="cell" id="cell2" onclick='start(); mobilePress("#cell2");'></div>
<div class="cell" id="cell3" onclick='start(); mobilePress("#cell3");'></div>
<div class="cell" id="cell4" onclick='start(); mobilePress("#cell4");'></div>
<div class="cell" id="cell5" onclick='start(); mobilePress("#cell5");'></div>
<div class="cell" id="cell6" onclick='start(); mobilePress("#cell6");'></div>
<div class="cell" id="cell7" onclick='start(); mobilePress("#cell7");'></div>
<div class="cell" id="cell8" onclick='start(); mobilePress("#cell8");'></div>
<div class="cell" id="cell9" onclick='start(); mobilePress("#cell9");'></div>
</div>
<div style="display: block;">
<div class="scr x" style="display: flex; flex-direction: row; background: white;"><div class="scoreimg" style="background: url(&quot;images/ttt_x.png&quot;); background-size: contain; margin-top: 1.5px;"></div><div class="score x">Player 1: 0</div></div><div class="scr z" style="display: flex; flex-direction: row; background: rgba(255, 0, 0, 0.85);"><div class="scoreimg" style="background: url(&quot;images/ttt_z.png&quot;); background-size: contain; margin-top: 1.5px;"></div><div class="score z">Player 2: 0</div></div>
</div>
</center>
<script>
var c = 0;
var a = false;
var x = 0;
var g = false;
var lastC = 1;
var thisPage = ".choose";
var p1 = "Player 1";
var p2 = "Player 2";
var AI = "AI(Easy)";
var game;
</script>
</body>
</html>
